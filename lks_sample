import requests
from bs4 import BeautifulSoup

#req = requests.get('https://finance.naver.com/sise/')
#soup = BeautifulSoup(req.content, 'html.parser')

#kospi = soup.find(id='KOSPI_now')
#kosdaq = soup.find(id='KOSDAQ_now')

#print ('코스피 : ' + kospi)
# 왜 에러뜨는건데!!!

def fun(address):
    req1 = requests.get(address)
    soup1 = BeautifulSoup(req1.content, 'html.parser')

    section = soup1.find('tbody')
    stocks = section.find.all('tr', onmouseover="mouseOver(this)")
    for i in stocks:
        basic_info = i.get_text()
        sinfo = basic_info.split("\n")
        print("\t" + sinfo[1] + "\t\t" + sinfo[2] + "\t\t\t" + sinfo[3])

baseadress = 'https://finance.naver.com/sise/sise_market_sum.naver?&page='
for j in range(1,37):
    fun(baseadress+str(j))

# 이건 또 왜 안돼 
# 코스피랑 코스닥이랑 바디랑 섹션이 똑같음.. 코스닥은 어떻게 찍지 
